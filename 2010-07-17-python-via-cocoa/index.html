<!DOCTYPE html><html><head><link rel="preload" href="/_next/f3fdce2c-b316-44de-9e67-d5bf276b2aa2/page/2010-07-17-python-via-cocoa.js/index.js" as="script"/><link rel="preload" href="/_next/f3fdce2c-b316-44de-9e67-d5bf276b2aa2/page/_error/index.js" as="script"/><link rel="preload" href="/_next/f4fbe524b889e376d7a09a0eecd9302a/app.js" as="script"/><meta charset="utf-8" class="next-head"/><title class="next-head">Python via Cocoa</title><meta name="viewport" content="initial-scale=1.0, width=device-width" class="next-head"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" class="next-head"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" class="next-head"/><link rel="stylesheet" href="/static/css/syntax.css" class="next-head"/><link rel="stylesheet" href="/static/css/gist.css" class="next-head"/><link rel="stylesheet" href="/static/css/main.css" class="next-head"/></head><body><div><div id="__next"><div data-reactroot="" data-reactid="1" data-react-checksum="344648061"><div data-reactid="2"><div data-reactid="3"><!-- react-empty: 4 --><div class="navbar navbar-inverse navbar-fixed-top" role="navigation" data-reactid="5"><div class="container" data-reactid="6"><div class="navbar-header" data-reactid="7"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse" data-reactid="8"><span class="sr-only" data-reactid="9">Toggle navigation</span><span class="icon-bar" data-reactid="10"></span><span class="icon-bar" data-reactid="11"></span></button><a href="/" class="navbar-brand" data-reactid="12">Thoughts on Tech</a></div><div class="collapse navbar-collapse" data-reactid="13"><ul class="nav navbar-nav" data-reactid="14"><li data-reactid="15"><a href="/" data-reactid="16">Home</a></li><li data-reactid="17"><a href="/about" data-reactid="18">About</a></li></ul></div></div></div></div><div class="container" data-reactid="19"><div class="row" data-reactid="20"><div class="blog-main" data-reactid="21"><h2 data-reactid="22">Python via Cocoa</h2><div data-reactid="23"><p class="blog-post-meta" data-reactid="24"><span class="glyphicon glyphicon-calendar" data-reactid="25"></span><!-- react-text: 26 --> <!-- /react-text --><!-- react-text: 27 -->07 Jul 2010<!-- /react-text --><!-- react-text: 28 --> <!-- /react-text --><a href="https://twitter.com/share" class="twitter-share-button" data-via="socketwiz" data-reactid="29">Tweet</a></p></div><p data-reactid="30"><!-- react-text: 31 -->I have an idea for a Cocoa front-end around a Python script that I recently came across. As you may or may not be aware Cocoa has the concept of a <!-- /react-text --><a href="https://developer.apple.com/library/mac/DOCUMENTATION/Cocoa/Conceptual/ScriptingBridgeConcepts/Introduction/Introduction.html" data-reactid="32">scripting bridge</a><!-- react-text: 33 --> for Python. However, almost all of the examples I could find were to allow Python to use Cocoa as a GUI interface basically. But I want to do is the other way around, use Python for it’s engine from Cocoa. Google being the amazing search engine that it is helped me to find an example that describes <!-- /react-text --><a href="http://www.informit.com/blogs/blog.aspx?uk=Ask-Big-Nerd-Ranch-Adding-Python-Scripting-to-Cocoa-apps" data-reactid="34">exactly that</a><!-- react-text: 35 -->. Using that example I was able to break out the basic concept and build a very simple app that calls a Python script from Cocoa. The python script just calls ls and is then able to print the output back into my Cocoa app’s text view. So the bridge allows a two way communication from Cocoa to Python and back again. This is very cool stuff. Here is a screen shot of my little test app<!-- /react-text --></p><p data-reactid="36"><img src="/static/images/rover.png" alt="Rover test app" data-reactid="37"/></p><p data-reactid="38">Here is the Cocoa script that I executed in it’s entirety:</p><figure class="highlight" data-reactid="39"><pre data-reactid="40"><code data-reactid="41">#
#  RoverExecutor.py
#  Rover
#
#  Created by Ricky Nelson on 7/16/10.
#
from Foundation import *
from AppKit import *

import subprocess

class PythonExecutor(NSObject):
  @classmethod
  def main_(self, args):
    textView = args[0];
    path = args[1]
    p = subprocess.Popen(&#x27;ls /&#x27;, shell=True, stdout=subprocess.PIPE).stdout
    textView.textStorage().mutableString().setString_(p.read())
    return YES</code></pre></figure><p data-reactid="42">Now that I have a basic understanding of how it all works I can move on to building my little UI.</p><div data-reactid="43"><div id="disqus_thread" data-reactid="44"></div></div></div></div></div><div class="blog-footer" data-reactid="45"><p data-reactid="46"><a href="http://www.linkedin.com/in/socketwiz/" data-reactid="47"><i class="fa fa-linkedin social" data-reactid="48"></i></a><!-- react-text: 49 --> <!-- /react-text --><a href="https://github.com/socketwiz" data-reactid="50"><i class="fa fa-github social" data-reactid="51"></i></a><!-- react-text: 52 --> <!-- /react-text --><a href="https://twitter.com/socketwiz" data-reactid="53"><i class="fa fa-twitter social" data-reactid="54"></i></a></p></div></div></div></div><div id="__next-error"></div></div><div><script>
          __NEXT_DATA__ = {"props":{},"pathname":"/2010-07-17-python-via-cocoa.js","query":{},"buildId":"f3fdce2c-b316-44de-9e67-d5bf276b2aa2","buildStats":{"app.js":{"hash":"f4fbe524b889e376d7a09a0eecd9302a"}},"assetPrefix":"","nextExport":true,"err":null,"chunks":[]}
          module={}
          __NEXT_LOADED_PAGES__ = []
          __NEXT_LOADED_CHUNKS__ = []

          __NEXT_REGISTER_PAGE = function (route, fn) {
            __NEXT_LOADED_PAGES__.push({ route: route, fn: fn })
          }

          __NEXT_REGISTER_CHUNK = function (chunkName, fn) {
            __NEXT_LOADED_CHUNKS__.push({ chunkName: chunkName, fn: fn })
          }
        </script><script async="" id="__NEXT_PAGE__/2010-07-17-python-via-cocoa.js" type="text/javascript" src="/_next/f3fdce2c-b316-44de-9e67-d5bf276b2aa2/page/2010-07-17-python-via-cocoa.js/index.js"></script><script async="" id="__NEXT_PAGE__/_error" type="text/javascript" src="/_next/f3fdce2c-b316-44de-9e67-d5bf276b2aa2/page/_error/index.js"></script><div></div><script type="text/javascript" src="/_next/f4fbe524b889e376d7a09a0eecd9302a/app.js" async=""></script></div></body></html>